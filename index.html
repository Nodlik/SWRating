<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Simple rating widget - Demo & Docs</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="build/css/rating-default.css">

    <script src="build/rating.standalone.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

</head>
<body>

<div class="container">
    <div class="row well" style="margin-top: 20px">
        <div class="col-md-2"><a href="https://github.com/Nodlik/SWRating">Project on GitHub</a></div>
        <div class="col-md-2"><a href="https://github.com/Nodlik/SWRating/zipball/master">Download <strong>ZIP File</strong></a></div>
        <div class="col-md-2"><a href="https://github.com/Nodlik/SWRating/tarball/master">Download <strong>TAR Ball</strong></a></div>
    </div>

    <div class="page-header">
        <h1>Simple rating widget</h1>
    </div>

    <div class="page-header">
        <h3>Использование:</h3>
    </div>
    <div class="well row">
<pre>
    var w = new SW.Rating(document.getElementById('rating'));

    w.on('vote', function(e) {
        alert(e.data); // Оценка которую выбрал пользователь
    });

    w.render();
</pre>
    </div>

    <div class="page-header">
        <h3>Демо 1:</h3>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var total = 9;
            var people = 2;

            var w = new SW.Rating(document.getElementById('demo1'), 3.5, people);

            w.on('vote', function(e) {
                total += e.data;
                people++;

                w.setMark(total / people);
                w.setVoteCount(people);

                w.update();
            });

            w.render();
        });
    </script>

    <div class="well row">
        <div id="demo1" class="col-md-2"></div>
        <div class="col-md-5"></div>
        <div class="col-md-5">
<pre>
var total = 9;
var people = 2;

var w = new SW.Rating(document.getElementById('demo1'), 3.5, people);

w.on('vote', function(e) {
    total += e.data;
    people++;

    w.setMark(total / people);
    w.setVoteCount(people);

    w.update();
});

w.render();
        </pre>
        </div>
    </div>


    <div class="page-header">
        <h3>Демо 2:</h3>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var total = 11;
            var people = 2;

            var w = new SW.Rating(document.getElementById('demo2'), 5.5, people);
            w.setConfig({
                pointNumber: 10,
                stretch: true
            });

            w.on('vote', function(e) {
                total += e.data;
                people++;

                w.setMark(total / people);
                w.setVoteCount(people);

                w.update();
            });

            w.render();
        });
    </script>

    <div class="well row">
        <div id="demo2" class="col-md-7"></div>
        <div class="col-md-5">
<pre>
w.setConfig({
    pointNumber: 10,
    stretch: true
});

w.render();
</pre>
        </div>
    </div>

    <div class="page-header">
        <h3>Демо 3: (png)</h3>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var total = 11;
            var people = 2;

            var w = new SW.Rating(document.getElementById('demo3'), 5.5, people);
            w.setConfig({
                pointNumber: 10,
                starType: 'png'
            });

            w.on('vote', function(e) {
                total += e.data;
                people++;

                w.setMark(total / people);
                w.setVoteCount(people);

                w.update();
            });

            w.render();
        });
    </script>

    <div class="well row">
        <div id="demo3" class="col-md-3"></div>
        <div class="col-md-4"></div>
        <div class="col-md-5">
<pre>
w.setConfig({
        pointNumber: 10,
        starType: 'png'
});

w.render();
</pre>
        </div>
    </div>



    <div class="page-header">
        <h3>Демо 4: (блокирование)</h3>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            var total = 9;
            var people = 2;

            var w = new SW.Rating(document.getElementById('demo4'), 3.5, people);
            w.setConfig({
                pointNumber: 10,
                starType: 'png'
            });

            w.on('vote', function(e) {
                total += e.data;
                people++;

                w.lock();
                w.update();

                setTimeout(function() {
                    w.setMark(total / people);
                    w.setVoteCount(people);
                    w.unlock();

                    w.update();
                }, 1000);
            });

            w.render();
        });
    </script>

    <div class="well row">
        <div class="col-md-7">
            <p>В случае асинхронного запроса к серверу, виджет можно заблокировать:</p>
            <div id="demo4" class="col-md-5"></div>
        </div>
        <div class="col-md-5">
<pre>
w.on('vote', function(e) {
    //...
    w.lock();
    w.update();

    setTimeout(function() { // Здесь может быть AJAX запрос к серверу
        //...

        w.unlock();
        w.update();
    }, 1000);
});
</pre>
        </div>
    </div>


</div>

</body>

</html>